# Coquinate Environment Variables
# Copy this file to .env and fill in your values

# Node Environment
NODE_ENV=development

# Application URLs
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_ADMIN_URL=http://localhost:3001
NEXT_PUBLIC_SITE_URL=https://coquinate.ro
NEXT_PUBLIC_SITE_URL_ALT=https://coquinate.com

# Launch Mode Configuration
# Controls site access during different launch phases
# Values: 'coming-soon' | 'full-launch'
# - coming-soon: Only landing page with email capture, privacy, and terms accessible
# - full-launch: All features accessible
NEXT_PUBLIC_LAUNCH_MODE=coming-soon

# Supabase Configuration (Required)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
SUPABASE_DB_PASSWORD=your-db-password
SUPABASE_ACCESS_TOKEN=your-access-token
SUPABASE_PROJECT_ID=your-project-id

# Stripe Configuration (Required)
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Resend Configuration (Required for Email Service)
RESEND_API_KEY=re_your-resend-api-key
RESEND_FROM_EMAIL=notifications@yourdomain.com

# Welcome Email Function Secret (Required for Welcome Email Edge Function)
WELCOME_EMAIL_FN_SECRET=your-welcome-email-function-secret-key

# Google Gemini AI Configuration (Required)
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-2.0-flash
AI_SDK_VERSION=4.2

# AI Rate Limiting (Project Tier-Based)
AI_RATE_LIMIT_PER_MINUTE=60
AI_RATE_LIMIT_SCALING=true

# AI Feature Configuration
ENABLE_AI_FEATURES=true
AI_TIMEOUT_MS=30000
AI_MAX_RETRIES=3
AI_STREAM_ENABLED=true
AI_MESSAGE_PARTS_ENABLED=true

# AI Response Cache Configuration
# Note: These settings control the localStorage-based cache for AI responses
# Proper configuration can reduce API costs by 50%+ through intelligent caching

# Core Cache Settings
NEXT_PUBLIC_CACHE_ENABLED=true              # Enable/disable AI response caching (default: true)
NEXT_PUBLIC_CACHE_MAX_ITEMS=50              # Maximum cached responses (default: 50, range: 10-200)
NEXT_PUBLIC_CACHE_TTL_DAYS=7                # Cache time-to-live in days (default: 7, range: 1-30)
NEXT_PUBLIC_CACHE_MAX_SIZE_MB=4             # Maximum cache size in MB (default: 4, safety limit)

# Cache Performance Features
NEXT_PUBLIC_CACHE_PRELOAD_ENABLED=true      # Enable recipe view preloading for common questions
NEXT_PUBLIC_CACHE_WARMUP_ENABLED=true       # Enable content-based warmup for frequent patterns
NEXT_PUBLIC_CACHE_STATIC_RESPONSES=true     # Enable instant static response lookup (no API calls)

# Cache Analytics & Monitoring
NEXT_PUBLIC_CACHE_ANALYTICS_ENABLED=true    # Track cache performance metrics and hit rates
NEXT_PUBLIC_CACHE_ANALYTICS_VERBOSE=false   # Enable verbose console logging in development

# AI SDK 4.2 Features (Gemini Implicit Cache)
AI_CACHE_ENABLED=true                       # Enable AI SDK built-in caching (75% discount on repeated prefixes)
AI_CACHE_TTL_SECONDS=3600                   # AI SDK cache TTL (1 hour for API-level caching)

# Development/Debug
AI_DEBUG_MODE=false
AI_LOG_REQUESTS=false

# Authentication
NEXTAUTH_SECRET=generate-a-secure-secret-key-at-least-32-chars
NEXTAUTH_URL=http://localhost:3000

# Google OAuth (Optional)
GOOGLE_OAUTH_CLIENT_ID=your-google-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-google-client-secret

# Task Master AI Keys (Optional)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
PERPLEXITY_API_KEY=your_perplexity_api_key_here
OPENAI_API_KEY=your_openai_api_key_here

# External Services (Optional)
GITHUB_TOKEN=your-github-token
VERCEL_TOKEN=your-vercel-token

# Database Configuration (for direct access if needed)
DATABASE_URL=postgresql://postgres:[password]@[host]:[port]/[database]

# Seed Data Passwords (Optional - for custom seed passwords)
# If not set, development defaults will be used (see supabase/seed.sql)
# Only set these for production/staging environments
SEED_ADMIN_PASSWORD=your-secure-admin-password
SEED_TEST_PASSWORD=your-secure-test-password

# Redis Configuration (if using for caching)
REDIS_URL=redis://localhost:6379

# Monitoring and Analytics (Optional)
SENTRY_DSN=your-sentry-dsn-if-using
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-your-google-analytics-id

# Feature Flags (Optional)
ENABLE_BETA_FEATURES=false
ENABLE_DEBUG_MODE=false

# Rate Limiting
RATE_LIMIT_API_CALLS=100
RATE_LIMIT_WINDOW_MS=60000

# Email Security Configuration
# Controls comprehensive email validation and anti-bot protection

# Anti-Bot Protection Settings
HONEYPOT_FIELD_NAME=company_website         # Primary honeypot field name (default: company_website)
ANTI_BOT_MIN_SUBMISSION_TIME=2000          # Minimum time (ms) for legitimate submission (default: 2000)
ANTI_BOT_MAX_CONFIDENCE_THRESHOLD=0.7      # Bot detection confidence threshold (0.0-1.0, default: 0.7)
ANTI_BOT_RATE_LIMIT_MULTIPLIER=3           # Extra rate limit tokens for bot attempts (default: 3)

# Email Validation Security
EMAIL_VALIDATION_ENABLED=true              # Enable comprehensive email validation (default: true)
EMAIL_MAX_LENGTH=254                       # RFC 5321 compliant max email length (default: 254)
DISPOSABLE_EMAIL_BLOCKING_ENABLED=true     # Block disposable/temporary emails (default: true)
MALICIOUS_EMAIL_BLOCKING_ENABLED=true      # Block known malicious domains (default: true)

# Security Logging Configuration
SECURITY_LOGGING_ENABLED=true              # Enable detailed security event logging (default: true)
SECURITY_LOG_USER_AGENTS=true              # Log User-Agent headers for analysis (default: true)
SECURITY_LOG_RETENTION_DAYS=30             # Security logs retention period (default: 30)

# Request Timeout and Retry Settings
EMAIL_SIGNUP_TIMEOUT_MS=8000              # Request timeout for email signup (default: 8000ms)
EMAIL_SIGNUP_MAX_RETRIES=3                # Maximum retry attempts (default: 3)
EMAIL_SIGNUP_RETRY_DELAY_MS=1000          # Base retry delay in milliseconds (default: 1000ms)

# Session Configuration
SESSION_SECRET=your-session-secret-key-minimum-32-characters
SESSION_MAX_AGE=86400

# Admin API Configuration
ADMIN_API_KEY=your-secure-admin-api-key-minimum-32-characters
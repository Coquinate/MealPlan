# Story 2.2: Homepage cu Propunere de Valoare - Multi-Domain Support

## Status
Phase 1 - Foundation Complete ✅

## Story
**As a** visitor (potential Romanian family on coquinate.ro or international family on coquinate.com),
**I want** to understand Coquinate's value within 10 seconds,
**so that** I decide whether to explore further

## Multi-Domain Strategy

This story supports both **coquinate.ro** (Romanian market) and **coquinate.com** (international market) with domain-specific content adaptation:

- **coquinate.ro**: Romanian language, RON currency, Romanian cultural references
- **coquinate.com**: English language, USD/EUR currency, international appeal

## Acceptance Criteria

1. **Hero section:** Domain-adaptive headline - "Gata cu 'Ce gătim azi?'" (coquinate.ro) / "No More 'What's for Dinner?'" (coquinate.com)
2. **Subheadline:** Domain-specific time/money savings - "3+ ore săptămânal, 300+ RON lunar" (coquinate.ro) / "3+ hours weekly, $80+ monthly saved" (coquinate.com)
3. **Primary CTA:** Domain-adaptive - "Începe Testul Gratuit de 3 Zile" (coquinate.ro) / "Start 3-Day Free Trial" (coquinate.com) 
4. **Problem agitation section:** Domain-specific pain points with cultural relevance
5. **Interactive week preview grid:** Domain-appropriate meal examples (Romanian vs international cuisine)
6. **Social proof:** Domain-specific testimonials - Romanian families for .ro, international for .com
7. **Value comparison visual:** Domain-adaptive pricing - 600 RON vs 50 RON (coquinate.ro) / $150 vs $12 (coquinate.com)
8. **Mobile-responsive:** Consistent across both domains with proper touch targets (44px minimum)
9. **SEO & Structured Data:** Domain-specific structured data with canonical URLs and hreflang tags

## Tasks / Subtasks

### **FASE 1: Foundation & Multi-Domain Setup (AC: 8, 9)** ✅ COMPLETED
- [x] **Task 1.1:** Configurare environment pentru development cu multi-domain support ✅
  - [x] Setup Next.js 15 app cu React 19 în `apps/web/src/app/page.tsx` (Server Component)
  - [x] Verificare compatibilitate cu packages/ui components existente
  - [x] Configurare Tailwind 4.1 cu design tokens OKLCH din `packages/config/tailwind/design-tokens.js`
  - [x] Integrare domain detection utilities din `apps/web/src/lib/domain-utils.ts` (enhanced)
- [x] **Task 1.2:** Implementare wireframe structure responsive multi-domain (AC: 8, 9) ✅
  - [x] Desktop layout: hero full-width cu content constrained max-w-7xl
  - [x] Mobile layout: stacked vertical cu hero adaptat pentru touch
  - [x] Touch targets minimum 44px conform accessibility-requirements.md
  - [x] Domain detection și conținut adaptat pentru coquinate.ro vs coquinate.com

**Implementation Notes for Phase 1:**
- ✅ Created hybrid Server/Client Component architecture in `apps/web/src/app/page.tsx`
- ✅ Enhanced `apps/web/src/lib/domain-utils.ts` with DomainConfig type and helper functions
- ✅ Implemented Client Component wrapper in `apps/web/src/components/HomepageClient.tsx`
- ✅ Successfully resolved Next.js 15 Server/Client Component boundary issues
- ✅ SEO-optimized generateMetadata function with domain-specific titles/descriptions
- ✅ Multi-domain canonical URLs and hreflang tags implementation
- ✅ Integration with existing @coquinate/ui components (HeroSection, FeaturesSection, CTASection)

### **FASE 2: Hero Section Multi-Domain Implementation (AC: 1, 2, 3)**
- [ ] **Task 2.1:** Implementare Hero Component cu domain-adaptive messaging (AC: 1, 2)
  - [ ] Hero title pentru coquinate.ro: "Gata cu 'Ce gătim azi?'" - Typography: text-4xl font-bold
  - [ ] Hero title pentru coquinate.com: "No More 'What's for Dinner?'" - Typography: text-4xl font-bold
  - [ ] Subtitle coquinate.ro: "Economisește 3+ ore săptămânal și 300+ RON lunar. Noi planificăm, tu gătești."
  - [ ] Subtitle coquinate.com: "Save 3+ hours weekly and $80+ monthly. We plan, you cook."
  - [ ] Background: Clean white cu subtle OKLCH color gradients (consistent across domains)
- [ ] **Task 2.2:** Primary CTA Multi-Domain Implementation (AC: 3)
  - [ ] Primary button coquinate.ro: "🎯 Începe Testul Gratuit de 3 Zile"
  - [ ] Primary button coquinate.com: "🎯 Start 3-Day Free Trial"
  - [ ] Secondary text coquinate.ro: "Nu necesită card bancar"
  - [ ] Secondary text coquinate.com: "No credit card required"
  - [ ] Touch target 48px height, accent color cu hover states
  - [ ] Link direct către domain-appropriate registration flow

### **FASE 3: Problem Agitation & Solution Multi-Domain (AC: 4, 5)**
- [ ] **Task 3.1:** Problem Agitation Section Multi-Domain (AC: 4)
  - [ ] Title coquinate.ro: "Te recunoști?" sau "Sună familiar?"
  - [ ] Title coquinate.com: "Sound familiar?" sau "Does this resonate?"
  - [ ] Pain points coquinate.ro cu iconițe: 
    - "⏰ Zilnic pierzi 30+ minute decidând ce să gătești"
    - "💸 Comanzi mâncare de 600+ RON lunar când nu ai idei"
    - "🛒 Mergi de 3-4 ori pe săptămână la magazin"
    - "😫 Stresul constant al întrebării 'Ce mâncăm azi?'"
  - [ ] Pain points coquinate.com cu iconițe:
    - "⏰ You waste 30+ minutes daily deciding what to cook"
    - "💸 You order $150+ monthly in takeout when out of ideas"
    - "🛒 You grocery shop 3-4 times per week"
    - "😫 The constant stress of 'What's for dinner?'"
  - [ ] Visual layout: cards sau listă cu checkmarks (consistent design)
- [ ] **Task 3.2:** Interactive Week Preview Multi-Domain Implementation (AC: 5)
  - [ ] Weekly calendar grid cu 7 zile vizibile (consistent layout)
  - [ ] Meal names coquinate.ro: Romanian cuisine (ex: "Luni: Ovăz cu fructe, Salată Caesar, Pui la cuptor")
  - [ ] Meal names coquinate.com: International cuisine (ex: "Monday: Overnight Oats, Caesar Salad, Roasted Chicken")
  - [ ] Wednesday expandable cu click/tap pentru detailed view
  - [ ] Expanded view arată: domain-appropriate recipes, cooking times, batch indicators
  - [ ] Mobile: horizontal scroll pentru week view (consistent across domains)

### **FASE 4: Social Proof & Value Comparison Multi-Domain (AC: 6, 7)**
- [ ] **Task 4.1:** Testimonials Multi-Domain Implementation (AC: 6)
  - [ ] 3 testimonial cards coquinate.ro cu mock data (MARCATE CA MOCK):
    - "Maria din București, mamă cu 2 copii: 'Am economisit 5 ore și 350 RON în prima săptămână!'"
    - "Andrei din Cluj, tată singur: 'Nu mai am stresul zilnic, totul e planificat perfect'"
    - "Elena din Timișoara, familie cu 3 copii: 'Copiii adoră varietatea, eu ador simplitatea'"
  - [ ] 3 testimonial cards coquinate.com cu mock data (MARCATE CA MOCK):
    - "Sarah from London, mother of 2: 'Saved 5 hours and $85 in my first week!'"
    - "Mark from Berlin, single dad: 'No more daily stress, everything is perfectly planned'"
    - "Lisa from Amsterdam, family of 4: 'Kids love the variety, I love the simplicity'"
  - [ ] Include avatar placeholders și star ratings (MOCK) - consistent design
  - [ ] Carousel pe mobile, grid pe desktop (consistent across domains)
- [ ] **Task 4.2:** Value Comparison Visual Multi-Domain (AC: 7)
  - [ ] Side-by-side comparison sau calculator interactiv (consistent layout)
  - [ ] coquinate.ro: Delivery apps 600-800 RON/lună vs Coquinate 50 RON/lună
  - [ ] coquinate.com: Delivery apps $150-200/month vs Coquinate $12/month
  - [ ] Benefits common across domains: timp economisit, mese sănătoase
  - [ ] Visual chart sau infographic pentru impact maxim (domain-adaptive pricing)

### **FASE 5: How It Works & Final CTA Multi-Domain**
- [ ] **Task 5.1:** How It Works Section Multi-Domain
  - [ ] 3-step process coquinate.ro vizualizat cu iconițe:
    - "1️⃣ PRIMEȘTI PLANUL - În fiecare joi la 6:00 AM"
    - "2️⃣ CUMPERI INTELIGENT - O singură vizită la magazin"
    - "3️⃣ GĂTEȘTI CU PLĂCERE - Rețete simple, 30 min max"
  - [ ] 3-step process coquinate.com vizualizat cu iconițe:
    - "1️⃣ GET YOUR PLAN - Every Thursday at 6:00 AM"
    - "2️⃣ SHOP SMART - One grocery trip per week"
    - "3️⃣ COOK WITH JOY - Simple recipes, 30 min max"
  - [ ] Timeline sau process diagram (consistent design across domains)
- [ ] **Task 5.2:** Bottom CTA Section Multi-Domain
  - [ ] Primary CTA coquinate.ro: "Începe Testul Gratuit de 3 Zile"
  - [ ] Primary CTA coquinate.com: "Start 3-Day Free Trial"
  - [ ] Trust badges coquinate.ro: "🔒 Date securizate", "❌ Fără card necesar", "✅ Anulezi oricând"
  - [ ] Trust badges coquinate.com: "🔒 Data secure", "❌ No card required", "✅ Cancel anytime"
  - [ ] Domain-appropriate links către Terms și Privacy Policy

## Dev Notes

### **Relevant Source Tree pentru această Story:**

```
apps/web/src/app/(marketing)/
├── page.tsx                    # Homepage main page - TARGET FILE
├── layout.tsx                  # Marketing layout wrapper
└── components/
    ├── hero/
    │   ├── HeroSection.tsx     # Main hero implementation
    │   ├── ProblemAgitation.tsx # Pain points section
    │   └── WeekPreview.tsx     # Interactive calendar
    ├── social-proof/
    │   ├── Testimonials.tsx    # 3 testimonial cards
    │   └── ValueComparison.tsx # 600 vs 50 RON visual
    └── shared/
        ├── CTAButton.tsx       # Consistent CTA
        └── HowItWorks.tsx      # 3-step process

packages/ui/src/components/
├── marketing/                  # Shared marketing components
│   ├── HeroSection.tsx        # Reusable hero template
│   ├── TestimonialCard.tsx    # Individual testimonial
│   └── WeekCalendar.tsx       # Week preview component
└── navigation/
    ├── SiteNavigation.tsx     # Updated pentru marketing
    └── SiteFooter.tsx         # Updated pentru marketing

packages/config/tailwind/
└── design-tokens.js           # OKLCH color system SOURCE
```

### **Component Architecture & Implementation Details:**

**1. Design System Integration:**
- **OKLCH Colors:** Primary brand: `oklch(62% 0.05 250)`, Surface: `oklch(98% 0 0)`, Text: `oklch(20% 0 0)`
- **Typography:** Inter font stack, responsive scale 16px base, 30px headings mobile, 48px desktop
- **Spacing:** 4px base unit system, touch targets minimum 44px height
- **Components:** Build în `packages/ui` pentru reutilizare, import în `apps/web`

**2. Multi-Domain Implementation Guide:**
- **Domain Detection:** Use `getDomain()` from `apps/web/src/lib/domain-utils.ts` to detect current domain
- **Desktop Layout:** 7xl max-width container, hero full-width background, content centered (consistent across domains)
- **Mobile Layout:** Single column stack, hero adaptat cu burger menu, horizontal scroll pentru calendar (consistent across domains)
- **Hero Content:** Domain-adaptive title + subtitle + CTA + problem agitation + week preview
- **Content Adaptation:** All text content adapts based on domain detection

**3. Localization & Cultural Adaptation Requirements:**
- **coquinate.ro Requirements:**
  - **Language:** Romanian primary cu i18n integration
  - **Cultural messaging:** Focus pe "familie", "economisește", "fără stres"
  - **Local examples:** București, Cluj-Napoca, Timișoara în testimonials
  - **Currency:** RON format (300 RON, 50 RON)
  - **Meal examples:** Romanian cuisine preferences
- **coquinate.com Requirements:**
  - **Language:** English primary cu i18n integration
  - **Cultural messaging:** International family focus, "save time", "reduce stress"
  - **Local examples:** London, Berlin, Amsterdam în testimonials
  - **Currency:** USD/EUR format ($80, $12)
  - **Meal examples:** International cuisine preferences

**4. Mock Data Specifications Multi-Domain (IMPORTANT):**
- **coquinate.ro Testimonials:** Marked clearly as "EXEMPLU" sau "(testimonial ilustrativ)"
- **coquinate.com Testimonials:** Marked clearly as "EXAMPLE" sau "(illustrative testimonial)"
- **Numbers:** "500+ familii (în curând)" for .ro, "500+ families (coming soon)" for .com instead of claiming false users
- **Ratings:** Show as "Target: 4.8★" not as existing rating (consistent across domains)
- **Week Preview coquinate.ro:** Use realistic Romanian meals from existing recipe database
- **Week Preview coquinate.com:** Use realistic international meals adapted to global audience

**5. Performance & Accessibility:**
- **Core Web Vitals:** LCP <2.5s prin image optimization și lazy loading
- **Touch targets:** 44px minimum pentru mobile, 8px spacing între elements
- **Contrast ratios:** WCAG AA compliance cu OKLCH color system
- **Focus indicators:** 3px solid outline pentru keyboard navigation
- **Loading:** Progressive enhancement - text first, images lazy loaded

**6. Interactive Elements Multi-Domain:**
- **Week Preview:** Click pe Wednesday deschide expanded view cu smooth animation (consistent across domains)
- **Value Calculator:** Optional - slider pentru household size care updatează domain-appropriate savings
- **Testimonial Carousel:** Swipe pe mobile, dots indicator, auto-play oprit (consistent behavior)
- **CTA Tracking:** Domain-aware data attributes pentru analytics (`data-cta-position="hero"`, `data-domain="ro/com"`)
- **Domain Context:** All interactive elements detect and adapt to current domain

**7. SEO & Structured Data Multi-Domain:**
- **Canonical URLs:** Use `getCanonicalUrl()` from domain-utils pentru proper canonical tags
- **Hreflang Tags:** Implement alternate domain references usando `getAlternateUrls()`
- **Structured Data coquinate.ro:**
  - Organization schema cu Romanian details
  - LocalBusiness schema for Romanian market
  - Product schema cu RON pricing
- **Structured Data coquinate.com:**
  - Organization schema cu international details
  - WebSite schema for global market
  - Product schema cu USD/EUR pricing
- **Meta Tags:** Domain-specific title/description pentru optimal SEO

### **Testing Standards Multi-Domain:**

**Test File Location:** `apps/web/src/app/(marketing)/page.test.tsx`

**Testing Framework:** Vitest 3.x + React Testing Library cu Romanian/English support

**Critical Test Cases Multi-Domain:**
- **AC Coverage:** Each AC has corresponding test for both domains
- **Domain Detection:** Test domain detection functionality works correctly
- **Hero visibility coquinate.ro:** Romanian title, subtitle, CTA render și sunt visible above fold
- **Hero visibility coquinate.com:** English title, subtitle, CTA render și sunt visible above fold
- **Problem agitation coquinate.ro:** All 4 Romanian pain points displayed correctly
- **Problem agitation coquinate.com:** All 4 English pain points displayed correctly
- **Week preview coquinate.ro:** Romanian calendar renders, Wednesday expandable works cu Romanian meals
- **Week preview coquinate.com:** English calendar renders, Wednesday expandable works cu international meals
- **Testimonials coquinate.ro:** 3 Romanian testimonials present, marked as mock
- **Testimonials coquinate.com:** 3 English testimonials present, marked as mock
- **Value comparison coquinate.ro:** 600 vs 50 RON comparison visible
- **Value comparison coquinate.com:** $150 vs $12 comparison visible
- **Mobile responsive:** Touch targets ≥44px, horizontal scroll works (both domains)
- **Performance:** Component load time <1s, images lazy load (both domains)
- **Accessibility:** Keyboard navigation, screen reader labels, contrast ratios (both domains)
- **Romanian text:** Proper diacritics display (ă, â, î, ș, ț) on coquinate.ro
- **English text:** Proper international character support on coquinate.com
- **SEO Meta Tags:** Domain-specific meta titles/descriptions
- **Structured Data:** Domain-appropriate structured data schemas

**Test Data Multi-Domain:**
```typescript
// Mock testimonials pentru coquinate.ro
const mockTestimonialsRo = [
  { 
    name: "Maria (Exemplu)",
    location: "București", 
    text: "Testimonial ilustrativ pentru MVP",
    savings: "350 RON"
  }
];

// Mock testimonials pentru coquinate.com
const mockTestimonialsCom = [
  { 
    name: "Sarah (Example)",
    location: "London", 
    text: "Illustrative testimonial for MVP",
    savings: "$85"
  }
];

// Domain detection test helpers
const mockDomainContext = {
  ro: { domain: 'ro', currency: 'RON', language: 'ro' },
  com: { domain: 'com', currency: 'USD', language: 'en' }
};

// Use domain-appropriate meal data from database
const weekPreviewDataRo = await getMealPlanPreview('omnivore', 'ro');
const weekPreviewDataCom = await getMealPlanPreview('omnivore', 'en');
```

**Testing Commands Multi-Domain:**
```bash
cd apps/web && pnpm test page         # Unit tests (both domains)
cd apps/web && pnpm test page --domain=ro    # Romanian domain specific
cd apps/web && pnpm test page --domain=com   # International domain specific
cd apps/web && pnpm test:e2e homepage        # E2E tests (both domains)
cd apps/web && pnpm test:a11y                # Accessibility (both domains)
```

### **GDPR & Compliance Notes Multi-Domain:**
- **Email capture:** Requires explicit consent checkbox (both domains)
- **Cookie banner:** Must be implemented before analytics (both domains)
- **Privacy Policy coquinate.ro:** Romanian privacy policy, link visible în footer și near email capture
- **Privacy Policy coquinate.com:** International privacy policy, link visible în footer și near email capture
- **Data storage:** Email-only, no personal data until registration (consistent across domains)
- **Legal compliance:** GDPR compliance pentru both .ro and .com visitors
- **Terms of Service:** Domain-specific terms links pentru appropriate jurisdiction

### **Integration with Story 2.1 - Multi-Domain Considerations:**
- **Component Reuse:** Reuse navigation și footer components already built with domain detection
- **i18n Extension:** Extend i18n configuration pentru new keys pentru both Romanian and English
- **OKLCH Consistency:** Keep consistent OKLCH color usage across both domains
- **Responsive Patterns:** Build on existing responsive patterns (consistent behavior)
- **Domain Utilities:** Leverage existing domain detection logic from domain-utils.ts
- **URL Structure:** Maintain consistent URL structure across both domains pentru SEO
- **Canonical Implementation:** Extend existing canonical URL implementation

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-01-19 | 1.0 | Story creation original | Bob (Scrum Master) |
| 2025-01-19 | 2.0 | CORRECTED - Aligned with Epic AC, fixed mock data marking, added missing sections | Sarah (Product Owner) |
| 2025-01-19 | 3.0 | ENHANCED - Added comprehensive multi-domain support (coquinate.ro & coquinate.com) with domain-specific content, structured data, testing requirements, and SEO considerations | Project Librarian |
| 2025-01-21 | 4.0 | PHASE 1 COMPLETE - Successfully implemented foundation with hybrid Server/Client architecture, multi-domain support, SEO optimization, and @coquinate/ui integration | Claude |